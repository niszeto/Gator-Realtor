<script type="text/javascript" src="/fa17g11/javascripts/results.js"></script>

<form method="POST">
    
<div class="container pt-5">
    <div class="row pt-4">
        <!--Search Bar Start-->
        <div style="padding: 40px;margin-top: 80px" class="col-md-12">
                <div id="custom-search-input">
                    <div class="input-group col-md-12">
                        <input id="searchResult" type="text" class="form-control input-lg" placeholder="Search by city or zip" name="searchQuery"
                        />
                        <span class="input-group-btn">
                            <button class="btn btn-info btn-lg" type="submit" formaction="/fa17g11/search">
                                <i class="fa fa-search"></i>
                            </button>
                        </span>
                    </div>
                </div>
        </div>
        <!--Search Bar End-->
    </div>
</div>
    <!--Filter Panel Start-->
    <div class="container-fluid">
        <div class="row">
            <div class="filter col-md-2">
                <div id="accordion" class="panel panel-primary behclick-panel">
                    <div class="panel-heading">
                        <h6 class="panel-title">Search Filter</h6>
                    </div>
                    <div class="panel-body">
                        <div class="panel-heading ">
                            <h6 class="panel-title">
                                <a data-toggle="collapse" href="#collapse0" style="color:black">
                                    <i class="indicator fa fa-caret-down" aria-hidden="true"></i> Price
                                </a>
                            </h6>
                        </div>
                        <div id="collapse0" class="panel-collapse collapse in">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="price" value="1">
                                            0 - $100,000
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="price" value="2">
                                            $100,001 - $500,000
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="price" value="3">
                                            $500,001$ - $1,000,000
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="price" value="4">
                                            More Than $1,000,001
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>

                        <div class="panel-heading ">
                            <h6 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1" style="color:black">
                                    <i class="indicator fa fa-caret-down" aria-hidden="true"></i> Bedrooms
                                </a>
                            </h6>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bedrooms" value="1">
                                            1-3
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bedrooms" value="2">
                                            4-6
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bedrooms" value="3">
                                            > 6
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="panel-heading">
                            <h6 class="panel-title">
                                <a data-toggle="collapse" href="#collapse3" style="color:black">
                                    <i class="indicator fa fa-caret-down" aria-hidden="true"></i> Bathrooms</a>
                            </h6>
                        </div>
                        <div id="collapse3" class="panel-collapse collapse in">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bathrooms" value="1">
                                            1-3
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bathrooms" value="2">
                                            4-6
                                        </label>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="checkbox">
                                        <label>
                                            <input type="radio" name="bathrooms" value="3">
                                            > 6
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <br>                        
                        <div>
                        <button type="button" class="btn btn-sm btn-outline-primary pull-left" onclick="Clear();">Clear Filter</button>
                        <button type="submit" class="btn btn-sm btn-outline-success pull-right" formaction="/fa17g11/search/filter">Apply filter</button>
                    </div>
                    </div>    
                </div>
            </div>
            <!--Filter Panel End-->
            <!--Results Listings Start-->
            <div class="col-md-9">
                <div class="container-fluid">

                    {{#if found}}
                        <h1 style="text-align: center; padding: 20px;">Found Listings: {{found}}</h1>
                    {{else}}
                        <h1 style="text-align: center; padding: 20px;">No matching results... </h1>
                        <h2 style="text-align: left; padding: 20px;">Recommended for you:</h2>

                    {{/if}}
                    <div class="d-flex flex-row align-items-stretch flex-wrap">
                        {{#each results}}
                            <div class="col-md-4" style="padding-bottom: 15px">
                                <div class="card" style="height:100%">
                                    <form method="post">
                                        <button class="btn btn-sm btn-outline-secondary" formaction="/fa17g11/listingdetails/{{id}}"
                                                name="listingdetailbutton" value="{{id}}"><img class="img-responsive" src="{{image.imageLink}}"
                                                                                               style="height: 250px" alt="No Image">
                                        </button>
                                    </form>

                                    <!--Card Body-->
                                    <div class="card-body">
                                        <li class="list-group-item">
                                            <h4>${{formatNumber price}}</h4>
                                            <hr>
                                            <h6>{{streetAddress}}</h6>
                                            <h6>{{city}}, {{state}} {{zipcode}}</h6>
                                            <h6>Built Year: {{buildYear}}</h6>
                                            <h6>Bedrooms: {{bedrooms}} Bathrooms: {{bathrooms}}</h6>
                                        </li>
                                        <br>
                                        <button class="btn btn-md btn-outline-secondary" formaction="/fa17g11/listingdetails/{{id}}"
                                                name="listingdetailbutton" value="{{id}}">
                                            View Details
                                        </button>
                                    </div>
                                </div>
                            </div>
                        {{/each}}
                </div>
            </div>
            <!--Results Listings End-->
        </div>
    </div>
    </div>
</form>
